<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- PIN Login Modal -->
    <div id="pinLoginModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>üîí Enter PIN</h2>
            <p>Please enter your 4-digit PIN to access your tasks</p>
            <div class="modal-form">
                <input type="password" id="pinLoginInput" placeholder="Enter 4-digit PIN" maxlength="4" inputmode="numeric" />
                <p id="pinError" class="error-message" style="display: none; color: #f44336; font-size: 14px; margin-top: 10px;"></p>
            </div>
            <div class="modal-buttons">
                <button id="pinLoginBtn" class="modal-btn modal-btn-primary">Login</button>
            </div>
        </div>
    </div>
    
    <!-- PIN Setup Modal -->
    <div id="pinSetupModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>üîí Set PIN</h2>
            <p>Set an optional 4-digit PIN to protect your tasks</p>
            <div class="modal-form">
                <input type="password" id="pinSetupInput" placeholder="Enter 4-digit PIN" maxlength="4" inputmode="numeric" />
                <input type="password" id="pinConfirmInput" placeholder="Confirm PIN" maxlength="4" inputmode="numeric" />
                <p id="pinSetupError" class="error-message" style="display: none; color: #f44336; font-size: 14px; margin-top: 10px;"></p>
            </div>
            <div class="modal-buttons">
                <button id="pinSetupBtn" class="modal-btn modal-btn-primary">Set PIN</button>
                <button id="pinSkipBtn" class="modal-btn modal-btn-cancel">Skip</button>
            </div>
        </div>
    </div>
    
    <div class="container" id="mainContainer" style="display: none;">
        <header>
            <h1>My To-Do List</h1>
            <button id="settingsBtn" class="settings-btn" title="Settings">‚öôÔ∏è</button>
        </header>
        
        <div class="input-section">
            <input type="text" id="taskInput" placeholder="Enter task name..." />
            
            <select id="categorySelect">
                <option value="">Select category</option>
                <option value="School">School</option>
                <option value="Personal">Personal</option>
                <option value="Work">Work</option>
            </select>
            
            <input type="date" id="dueDateInput" />
            
            <input type="time" id="dueTimeInput" />
            
            <select id="prioritySelect">
                <option value="">Select priority</option>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
            </select>
            
            <input type="date" id="reminderDateInput" placeholder="Reminder date" />
            <input type="time" id="reminderTimeInput" placeholder="Reminder time" />
            
            <textarea id="notesInput" placeholder="Notes (optional)" rows="3"></textarea>
            
            <button id="addTaskBtn">Add Task</button>
            <button id="cancelBtn" style="display: none;">Cancel</button>
        </div>
        
        <div class="task-list-container">
            <!-- Tasks will appear here -->
        </div>
    </div>
    
    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>Delete Task</h2>
            <p>Are you sure you want to delete this task?</p>
            <div class="modal-buttons">
                <button id="confirmDeleteBtn" class="modal-btn modal-btn-danger">Yes</button>
                <button id="cancelDeleteBtn" class="modal-btn modal-btn-cancel">No</button>
            </div>
        </div>
    </div>
    
    <!-- Edit Task Modal -->
    <div id="editModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-content-large">
            <h2>Edit Task</h2>
            <div class="modal-form">
                <input type="text" id="editTaskInput" placeholder="Enter task name..." />
                <select id="editCategorySelect">
                    <option value="">Select category</option>
                    <option value="School">School</option>
                    <option value="Personal">Personal</option>
                    <option value="Work">Work</option>
                </select>
                <input type="date" id="editDueDateInput" />
                <input type="time" id="editDueTimeInput" />
                <select id="editPrioritySelect">
                    <option value="">Select priority</option>
                    <option value="High">High</option>
                    <option value="Medium">Medium</option>
                    <option value="Low">Low</option>
                </select>
                <input type="date" id="editReminderDateInput" placeholder="Reminder date" />
                <input type="time" id="editReminderTimeInput" placeholder="Reminder time" />
                <textarea id="editNotesInput" placeholder="Notes (optional)" rows="3"></textarea>
            </div>
            <div class="modal-buttons">
                <button id="saveEditBtn" class="modal-btn modal-btn-primary">Save</button>
                <button id="cancelEditBtn" class="modal-btn modal-btn-cancel">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Reminder Notification Modal -->
    <div id="reminderModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>üîî Reminder</h2>
            <p id="reminderMessage"></p>
            <div class="modal-buttons">
                <button id="reminderOkBtn" class="modal-btn modal-btn-primary">OK</button>
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h2>‚öôÔ∏è Settings</h2>
            <div class="modal-form">
                <button id="changePinBtn" class="modal-btn modal-btn-primary" style="width: 100%; margin-bottom: 10px;">Change PIN</button>
                <button id="removePinBtn" class="modal-btn modal-btn-danger" style="width: 100%;">Remove PIN</button>
            </div>
            <div class="modal-buttons">
                <button id="settingsCloseBtn" class="modal-btn modal-btn-cancel">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Configuration - Set API_BASE_URL here for production -->
    <script>
        // For production deployment, uncomment and set your backend URL:
        // window.API_BASE_URL = 'https://your-backend-url.com/api';
    </script>
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
